<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BB åå½ˆ ML æ¨¡å‹å„€è¡¨æ¿</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .card h2 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.5em;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #333;
            font-weight: 500;
        }

        input[type="number"],
        input[type="text"],
        select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        input[type="number"]:focus,
        input[type="text"]:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 5px rgba(102, 126, 234, 0.3);
        }

        input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            border: none;
        }

        .threshold-display {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 5px;
        }

        .threshold-value {
            font-size: 1.2em;
            font-weight: bold;
            color: #667eea;
        }

        .threshold-explanation {
            font-size: 0.9em;
            color: #666;
            margin-top: 10px;
            padding: 10px;
            background: #f0f0f0;
            border-radius: 5px;
            border-left: 4px solid #667eea;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }

        button:hover {
            transform: scale(1.02);
        }

        button:active {
            transform: scale(0.98);
        }

        .btn-predict {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-reset {
            background: #ddd;
            color: #333;
        }

        .btn-health {
            background: #4CAF50;
            color: white;
        }

        .status {
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            font-weight: 500;
        }

        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .status.warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeeba;
        }

        .result {
            margin-top: 20px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 5px;
            border: 2px solid #667eea;
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .result-row:last-child {
            border-bottom: none;
        }

        .result-label {
            font-weight: bold;
            color: #333;
        }

        .result-value {
            color: #667eea;
            font-weight: bold;
        }

        .confidence-bar {
            width: 100%;
            height: 25px;
            background: #eee;
            border-radius: 5px;
            margin-top: 10px;
            overflow: hidden;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }

        .action-badge {
            display: inline-block;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-top: 10px;
            text-transform: uppercase;
            font-size: 0.9em;
        }

        .action-excellent {
            background: #28a745;
            color: white;
        }

        .action-good {
            background: #20c997;
            color: white;
        }

        .action-moderate {
            background: #ffc107;
            color: #333;
        }

        .action-weak {
            background: #fd7e14;
            color: white;
        }

        .action-poor {
            background: #dc3545;
            color: white;
        }

        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        .info-box h3 {
            color: #1976D2;
            margin-bottom: 8px;
        }

        .info-box p {
            color: #0d47a1;
            font-size: 0.95em;
            line-height: 1.5;
        }

        .feature-group {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 15px;
        }

        .feature-group h4 {
            color: #667eea;
            margin-bottom: 10px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
        }

        .feature-input {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .feature-input {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>BB åå½ˆ ML æ¨¡å‹å„€è¡¨æ¿</h1>
            <p>Bollinger Bands Bounce Prediction with Machine Learning</p>
        </div>

        <div class="grid">
            <!-- å·¦å´ï¼šç³»çµ±ç‹€æ…‹ -->
            <div class="card">
                <h2>ç³»çµ±ç‹€æ…‹</h2>
                <div class="info-box">
                    <h3>API é€£ç·šç‹€æ…‹</h3>
                    <p id="api-status">æª¢æŸ¥ä¸­...</p>
                </div>
                <button class="btn-health" onclick="checkHealth()">é‡æ–°æª¢æŸ¥</button>
                <div id="health-result" style="margin-top: 15px;"></div>
            </div>

            <!-- ä¸­é–“ï¼šåƒæ•¸è¨­ç½® -->
            <div class="card">
                <h2>é æ¸¬åƒæ•¸è¨­ç½®</h2>
                
                <div class="form-group">
                    <label>æ±ºç­–é–¾å€¼ (Threshold)</label>
                    <p style="font-size: 0.9em; color: #666; margin-bottom: 10px;">
                        ä»€éº¼æ˜¯é–¾å€¼ï¼Ÿå®ƒæ˜¯æ¨¡å‹ã€Œåšæ±ºå®šã€çš„åˆ†ç•Œé»ã€‚
                    </p>
                    <input type="range" id="threshold" min="0.3" max="0.7" step="0.05" value="0.45" onchange="updateThresholdDisplay()">
                    <div class="threshold-display">
                        <span>é–¾å€¼:</span>
                        <span class="threshold-value" id="threshold-value">0.45</span>
                    </div>
                    <div class="threshold-explanation">
                        <strong>é–¾å€¼è§£é‡‹:</strong> <br>
                        â€¢ ä½é–¾å€¼ (0.35): æ›´å¤šä¿¡è™Ÿï¼ŒæŠ“ä½æ›´å¤šæ©Ÿæœƒï¼Œä½†å‡ä¿¡è™Ÿä¹Ÿå¤š<br>
                        â€¢ ä¸­é–¾å€¼ (0.45): å¹³è¡¡æ”¶ç›Šå’Œé¢¨éšª â­ æ¨è–¦<br>
                        â€¢ é«˜é–¾å€¼ (0.60): æ›´å°‘ä¿¡è™Ÿï¼Œä½†ä¿¡è™Ÿè³ªé‡æ›´é«˜
                    </div>
                </div>
            </div>

            <!-- å³å´ï¼šå¿«é€Ÿé è¨­ -->
            <div class="card">
                <h2>å¿«é€Ÿé è¨­</h2>
                <button class="btn-predict" onclick="loadStrongSignal()" style="width: 100%; margin-bottom: 10px;">
                    ğŸ’ª å¼·ä¿¡è™Ÿ
                </button>
                <button class="btn-predict" onclick="loadModerateSignal()" style="width: 100%; margin-bottom: 10px;">
                    ğŸ˜Š ä¸­ç­‰ä¿¡è™Ÿ
                </button>
                <button class="btn-predict" onclick="loadWeakSignal()" style="width: 100%; margin-bottom: 10px;">
                    ğŸ˜° å¼±ä¿¡è™Ÿ
                </button>
                <button class="btn-reset" onclick="resetForm()" style="width: 100%;">
                    ğŸ”„ æ¸…ç©ºè¡¨å–®
                </button>
            </div>
        </div>

        <!-- ç‰¹å¾µè¼¸å…¥ -->
        <div class="card">
            <h2>ç‰¹å¾µè¼¸å…¥</h2>
            <p style="color: #666; margin-bottom: 20px;">å¡«å…¥ä½ æƒ³è¦é æ¸¬çš„å„é …æŒ‡æ¨™ï¼ˆå¯ä»¥å…ˆç”¨ã€Œå¿«é€Ÿé è¨­ã€å¡«å……ç¯„ä¾‹æ•¸æ“šï¼‰</p>
            
            <!-- åŸå§‹ç‰¹å¾µ -->
            <div class="feature-group">
                <h4>ğŸ“Š Kç·šå½¢æ…‹ç‰¹å¾µ</h4>
                <div class="feature-input">
                    <div class="form-group">
                        <label>body_ratio (å¯¦é«”æ¯”ä¾‹)</label>
                        <input type="number" id="body_ratio" step="0.01" min="0" max="1">
                    </div>
                    <div class="form-group">
                        <label>wick_ratio (å½±ç·šæ¯”ä¾‹)</label>
                        <input type="number" id="wick_ratio" step="0.01" min="0" max="1">
                    </div>
                    <div class="form-group">
                        <label>high_low_range (H-L)</label>
                        <input type="number" id="high_low_range" step="1">
                    </div>
                </div>
            </div>

            <!-- æˆäº¤é‡ç‰¹å¾µ -->
            <div class="feature-group">
                <h4>ğŸ“ˆ æˆäº¤é‡ç‰¹å¾µ</h4>
                <div class="feature-input">
                    <div class="form-group">
                        <label>vol_ratio (æˆäº¤é‡æ¯”)</label>
                        <input type="number" id="vol_ratio" step="0.1" min="0">
                    </div>
                    <div class="form-group">
                        <label>vol_spike_ratio (çªå¢å€æ•¸)</label>
                        <input type="number" id="vol_spike_ratio" step="0.1" min="0">
                    </div>
                    <div class="form-group">
                        <label>volume_strength (æˆäº¤é‡å¼·åº¦)</label>
                        <input type="number" id="volume_strength" step="0.1">
                    </div>
                </div>
            </div>

            <!-- å‹•èƒ½ç‰¹å¾µ -->
            <div class="feature-group">
                <h4>âš¡ å‹•èƒ½ç‰¹å¾µ</h4>
                <div class="feature-input">
                    <div class="form-group">
                        <label>rsi (0-100)</label>
                        <input type="number" id="rsi" step="1" min="0" max="100">
                    </div>
                    <div class="form-group">
                        <label>rsi_strength (RSIå¼·åº¦)</label>
                        <input type="number" id="rsi_strength" step="0.01" min="0" max="1">
                    </div>
                    <div class="form-group">
                        <label>macd</label>
                        <input type="number" id="macd" step="0.001">
                    </div>
                    <div class="form-group">
                        <label>macd_hist</label>
                        <input type="number" id="macd_hist" step="0.001">
                    </div>
                    <div class="form-group">
                        <label>macd_strength</label>
                        <input type="number" id="macd_strength" step="0.01" min="0" max="1">
                    </div>
                    <div class="form-group">
                        <label>momentum</label>
                        <input type="number" id="momentum" step="1">
                    </div>
                </div>
            </div>

            <!-- BBç‰¹å¾µ -->
            <div class="feature-group">
                <h4>ğŸ¯ Bollinger Bands ç‰¹å¾µ</h4>
                <div class="feature-input">
                    <div class="form-group">
                        <label>bb_position (0-1)</label>
                        <input type="number" id="bb_position" step="0.01" min="0" max="1">
                    </div>
                    <div class="form-group">
                        <label>bb_width_ratio</label>
                        <input type="number" id="bb_width_ratio" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>lower_touch_depth</label>
                        <input type="number" id="lower_touch_depth" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>upper_touch_depth</label>
                        <input type="number" id="upper_touch_depth" step="0.01">
                    </div>
                </div>
            </div>

            <!-- å…¶ä»–ç‰¹å¾µ -->
            <div class="feature-group">
                <h4>ğŸ”§ å…¶ä»–ç‰¹å¾µ</h4>
                <div class="feature-input">
                    <div class="form-group">
                        <label>price_slope</label>
                        <input type="number" id="price_slope" step="0.001">
                    </div>
                    <div class="form-group">
                        <label>price_trend (0 æˆ– 1)</label>
                        <input type="number" id="price_trend" step="1" min="0" max="1">
                    </div>
                    <div class="form-group">
                        <label>close_from_lower (0-1)</label>
                        <input type="number" id="close_from_lower" step="0.01" min="0" max="1">
                    </div>
                    <div class="form-group">
                        <label>close_from_upper (0-1)</label>
                        <input type="number" id="close_from_upper" step="0.01" min="0" max="1">
                    </div>
                    <div class="form-group">
                        <label>volatility_ratio</label>
                        <input type="number" id="volatility_ratio" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>prev_5_trend</label>
                        <input type="number" id="prev_5_trend" step="0.001">
                    </div>
                    <div class="form-group">
                        <label>hour (0-23)</label>
                        <input type="number" id="hour" step="1" min="0" max="23">
                    </div>
                    <div class="form-group">
                        <label>is_high_volume_time (0 æˆ– 1)</label>
                        <input type="number" id="is_high_volume_time" step="1" min="0" max="1">
                    </div>
                    <div class="form-group">
                        <label>adx (0-100)</label>
                        <input type="number" id="adx" step="1" min="0" max="100">
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button class="btn-predict" onclick="predictBounce()">ğŸš€ é æ¸¬</button>
                <button class="btn-reset" onclick="resetForm()">ğŸ”„ æ¸…ç©º</button>
            </div>
        </div>

        <!-- é æ¸¬çµæœ -->
        <div id="result-container" style="display: none;">
            <div class="card">
                <h2>é æ¸¬çµæœ</h2>
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>é æ¸¬ä¸­...</p>
                </div>
                <div id="prediction-result"></div>
            </div>
        </div>
    </div>

    <script>
        const API_URL = 'http://localhost:5000';

        function updateThresholdDisplay() {
            const threshold = document.getElementById('threshold').value;
            document.getElementById('threshold-value').textContent = threshold;
        }

        async function checkHealth() {
            try {
                const response = await fetch(`${API_URL}/health`);
                const data = await response.json();
                
                if (data.status === 'ok') {
                    document.getElementById('api-status').innerHTML = 
                        `<span style="color: #28a745;">âœ… API æ­£å¸¸é€£æ¥</span>`;
                    document.getElementById('health-result').innerHTML = `
                        <div class="status success">
                            <strong>æ¨¡å‹ç‰ˆæœ¬:</strong> ${data.model_version}<br>
                            <strong>ç‰¹å¾µæ•¸:</strong> ${data.features_count}<br>
                            <strong>ç‹€æ…‹:</strong> ${data.status}
                        </div>
                    `;
                } else {
                    document.getElementById('api-status').innerHTML = 
                        `<span style="color: #dc3545;">âŒ API æœªæº–å‚™å¥½</span>`;
                }
            } catch (error) {
                document.getElementById('api-status').innerHTML = 
                    `<span style="color: #dc3545;">âŒ ç„¡æ³•é€£æ¥ API</span>`;
                document.getElementById('health-result').innerHTML = `
                    <div class="status error">
                        <strong>éŒ¯èª¤:</strong> è«‹ç¢ºä¿ API æœå‹™å™¨æ­£åœ¨é‹è¡Œ<br>
                        python deploy_api_optimized.py
                    </div>
                `;
            }
        }

        function loadStrongSignal() {
            const strongSignal = {
                body_ratio: 0.7, wick_ratio: 0.9, high_low_range: 250,
                vol_ratio: 2.5, vol_spike_ratio: 3.5, rsi: 22, rsi_strength: 0.78,
                macd: -0.01, macd_hist: -0.008, macd_strength: 0.95, momentum: -250,
                bb_position: 0.05, bb_width_ratio: 1.4,
                lower_touch_depth: -0.08, upper_touch_depth: 0.03,
                close_from_lower: 0.15, close_from_upper: 0.85,
                price_slope: -0.025, price_trend: 0,
                volume_strength: 2.2, volatility_ratio: 1.6,
                prev_5_trend: -0.03, hour: 2, is_high_volume_time: 1, adx: 32
            };
            fillForm(strongSignal);
        }

        function loadModerateSignal() {
            const moderateSignal = {
                body_ratio: 0.5, wick_ratio: 0.6, high_low_range: 150,
                vol_ratio: 1.5, vol_spike_ratio: 1.8, rsi: 35, rsi_strength: 0.45,
                macd: -0.005, macd_hist: -0.003, macd_strength: 0.5, momentum: -100,
                bb_position: 0.2, bb_width_ratio: 1.1,
                lower_touch_depth: -0.03, upper_touch_depth: 0.015,
                close_from_lower: 0.25, close_from_upper: 0.75,
                price_slope: -0.01, price_trend: 0,
                volume_strength: 1.0, volatility_ratio: 1.1,
                prev_5_trend: -0.01, hour: 12, is_high_volume_time: 0, adx: 22
            };
            fillForm(moderateSignal);
        }

        function loadWeakSignal() {
            const weakSignal = {
                body_ratio: 0.2, wick_ratio: 0.3, high_low_range: 80,
                vol_ratio: 0.9, vol_spike_ratio: 1.1, rsi: 45, rsi_strength: 0.1,
                macd: 0.0001, macd_hist: 0.00001, macd_strength: 0.2, momentum: -20,
                bb_position: 0.3, bb_width_ratio: 0.9,
                lower_touch_depth: -0.01, upper_touch_depth: 0.005,
                close_from_lower: 0.2, close_from_upper: 0.8,
                price_slope: 0.005, price_trend: 1,
                volume_strength: 0.3, volatility_ratio: 0.8,
                prev_5_trend: 0.001, hour: 10, is_high_volume_time: 0, adx: 15
            };
            fillForm(weakSignal);
        }

        function fillForm(data) {
            Object.keys(data).forEach(key => {
                const input = document.getElementById(key);
                if (input) input.value = data[key];
            });
        }

        function resetForm() {
            document.querySelectorAll('input[type="number"]').forEach(input => input.value = '');
            document.getElementById('result-container').style.display = 'none';
        }

        async function predictBounce() {
            const threshold = parseFloat(document.getElementById('threshold').value);
            
            // æ”¶é›†æ‰€æœ‰ç‰¹å¾µ
            const features = {};
            document.querySelectorAll('input[type="number"]').forEach(input => {
                if (input.value) {
                    features[input.id] = parseFloat(input.value);
                }
            });

            if (Object.keys(features).length === 0) {
                alert('è«‹è¼¸å…¥è‡³å°‘ä¸€å€‹ç‰¹å¾µå€¼');
                return;
            }

            // é¡¯ç¤ºçµæœå€åŸŸå’ŒåŠ è¼‰æŒ‡ç¤º
            document.getElementById('result-container').style.display = 'block';
            document.getElementById('loading').style.display = 'block';
            document.getElementById('prediction-result').innerHTML = '';

            try {
                const response = await fetch(`${API_URL}/predict_bounce`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ features })
                });

                const data = await response.json();
                document.getElementById('loading').style.display = 'none';

                if (data.status === 'success') {
                    const prob = (data.success_probability * 100).toFixed(2);
                    const predictWithThreshold = data.success_probability >= threshold ? 1 : 0;
                    
                    let actionBadgeClass = '';
                    if (data.confidence === 'EXCELLENT') actionBadgeClass = 'action-excellent';
                    else if (data.confidence === 'GOOD') actionBadgeClass = 'action-good';
                    else if (data.confidence === 'MODERATE') actionBadgeClass = 'action-moderate';
                    else if (data.confidence === 'WEAK') actionBadgeClass = 'action-weak';
                    else actionBadgeClass = 'action-poor';

                    document.getElementById('prediction-result').innerHTML = `
                        <div class="result">
                            <div class="result-row">
                                <span class="result-label">åå½ˆæˆåŠŸæ¦‚ç‡</span>
                                <span class="result-value">${prob}%</span>
                            </div>
                            <div class="confidence-bar">
                                <div class="confidence-fill" style="width: ${prob}%;">
                                    ${prob}%
                                </div>
                            </div>
                            
                            <div class="result-row" style="margin-top: 15px;">
                                <span class="result-label">ä¿¡å¿ƒç´šåˆ¥</span>
                                <span class="action-badge ${actionBadgeClass}">${data.confidence}</span>
                            </div>
                            
                            <div class="result-row">
                                <span class="result-label">å»ºè­°å‹•ä½œ</span>
                                <span class="result-value">${data.action}</span>
                            </div>
                            
                            <div class="result-row">
                                <span class="result-label">æ¨¡å‹ç‰ˆæœ¬</span>
                                <span class="result-value">${data.model_version}</span>
                            </div>
                            
                            <div class="result-row">
                                <span class="result-label">ç›®å‰è¨­ç½®çš„é–¾å€¼</span>
                                <span class="result-value">${threshold.toFixed(2)}</span>
                            </div>
                            
                            <div class="result-row">
                                <span class="result-label">æŒ‰æ­¤é–¾å€¼çš„é æ¸¬</span>
                                <span class="result-value">${predictWithThreshold === 1 ? 'âœ… é€²å ´' : 'âŒ ä¸é€²å ´'}</span>
                            </div>
                        </div>
                    `;
                } else {
                    document.getElementById('prediction-result').innerHTML = `
                        <div class="status error">
                            <strong>éŒ¯èª¤:</strong> ${data.error}
                        </div>
                    `;
                }
            } catch (error) {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('prediction-result').innerHTML = `
                    <div class="status error">
                        <strong>é€£æ¥éŒ¯èª¤:</strong> è«‹ç¢ºä¿ API æœå‹™å™¨æ­£åœ¨é‹è¡Œ<br>
                        python deploy_api_optimized.py
                    </div>
                `;
            }
        }

        // é é¢åŠ è¼‰æ™‚æª¢æŸ¥ API
        window.addEventListener('load', checkHealth);
    </script>
</body>
</html>
